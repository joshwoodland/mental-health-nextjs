#!/bin/bash

# Navigate to the project directory
cd "$(dirname "$0")"

# Color codes for output
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}ðŸš€ Starting MentalCare Development Server...${NC}"
echo ""

# Function to open browser
open_browser() {
    sleep 3  # Wait for server to start
    if [[ "$OSTYPE" == "darwin"* ]]; then
        # macOS
        open http://localhost:4001
    elif [[ "$OSTYPE" == "linux-gnu"* ]]; then
        # Linux
        xdg-open http://localhost:4001
    elif [[ "$OSTYPE" == "msys" || "$OSTYPE" == "cygwin" ]]; then
        # Windows
        start http://localhost:4001
    fi
}

# Start browser opening in background
open_browser &

# Start the Next.js development server
echo -e "${GREEN}âœ¨ Server starting at http://localhost:4001${NC}"
echo -e "${GREEN}âœ¨ Browser will open automatically...${NC}"
echo ""

# Run the dev server
npm run dev